<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .movie-list {
            font-weight: bolder;
        }
    </style>
    <title>영화보기</title>
</head>
<body>
    <h1 class="movie-list">영화 리스트 보기</h1>
    <a href="register.html">영화 등록하러 가기</a>
    <div>
        <table border="1.3", width = 100%>
            <th>ID</th>
            <th>제목</th>
            <th>등록자</th>
            <th>조회수</th>
            <th>등록날짜</th>
            <!-- <tr>
                <td>1</td>
                <td>Misérables, Les</td>
                <td>1</td>
                <td>23</td>
                <td>게시일</td>
            </tr>
            <tr>
                <td>3</td>
                <td>Captain Ron</td>
                <td>1</td>
                <td>1</td>
                <td>2022-08-14 18:09:47</td>
            </tr>
            <tr>
                <td>4</td>
                <td>Siberia</td>
                <td>9</td>
                <td>37</td>
                <td>2022-02-08 02:44:29</td>
            </tr>
            <tr>
                <td>5</td>
                <td>Girl, The</td>
                <td>6</td>
                <td>82</td>
                <td>2022-08-29 00:02:21</td>
            </tr>
            <tr>
                <td>6</td>
                <td>44 Minutes: The North Hollywood Shoot-Out</td>
                <td>4</td>
                <td>2</td>
                <td>2022-12-06 20:33:12</td>
            </tr>
            <tr>
                <td>7</td>
                <td>C'mon Man</td>
                <td>2</td>
                <td>62</td>
                <td>2022-08-18 16:43:05</td>
            </tr>
            <tr>
                <td>8</td>
                <td>Jim Jefferies: Alcoholocaust</td>
                <td>8</td>
                <td>4</td>
                <td>2022-07-05 16:49:03</td>
            </tr>
            <tr>
                <td>9</td>
                <td>Grand Budapest Hotel, The</td>
                <td>9</td>
                <td>35</td>
                <td>2022-01-10 08:22:27</td>
            </tr>
            <tr>
                <td>10</td>
                <td>Ju-on: The Curse 2</td>
                <td>7</td>
                <td>64</td>
                <td>2022-10-18 21:59:19</td>
            </tr>
            <tr>
                <td>11</td>
                <td>Looney Tunes: Back in Action</td>
                <td>8</td>
                <td>17</td>
                <td>2022-10-26 06:56:30</td>
            </tr>
            <tr>
                <td>12</td>
                <td>Undertaker and His Pals, The</td>
                <td>6</td>
                <td>91</td>
                <td>2022-02-22 11:23:11</td>
            </tr>
            <tr>
                <td>13</td>
                <td>BlinkyTM</td>
                <td>5</td>
                <td>4</td>
                <td>2022-01-08 21:02:09</td>
            </tr>
            <tr>
                <td>14</td>
                <td>Alien Predator (Mutant II) (Falling, The)</td>
                <td>2</td>
                <td>47</td>
                <td>2022-02-28 15:55:13</td>
            </tr>
            <tr>
                <td>15</td>
                <td>Lorenzo's Oil</td>
                <td>6</td>
                <td>26</td>
                <td>2022-01-21 02:46:27</td>
            </tr>
            <tr>
                <td>16</td>
                <td>Beyond Re-Animator</td>
                <td>5</td>
                <td>88</td>
                <td>2022-04-26 13:44:52</td>
            </tr>
            <tr>
                <td>17</td>
                <td>Mississippi Burning</td>
                <td>8</td>
                <td>64</td>
                <td>2022-11-14 05:23:58</td>
            </tr>
            <tr>
                <td>18</td>
                <td>Last Circus, The (Balada triste de trompeta) (Sad Trumpet Ballad, A)</td>
                <td>1</td>
                <td>55</td>
                <td>2022-03-24 06:27:21</td>
            </tr>
            <tr>
                <td>19</td>
                <td>Power and Terror: Noam Chomsky in Our Times</td>
                <td>3</td>
                <td>85</td>
                <td>2022-04-30 19:43:43</td>
            </tr>
            <tr>
                <td>20</td>
                <td>Grumpy Cat's Worst Christmas Ever</td>
                <td>9</td>
                <td>58</td>
                <td>2022-12-13 00:46:27</td>
            </tr> -->
        <tbody id="movies">

        </tbody>
        </table>
    </div>
</body>
</html>
<script>
    // 영화 리스트
fetch('http://localhost:3100/movies')
.then((response) => response.json())
.then((movies) => {
    const html = movies.map(movie => {
        return `
        <tr>
            <td>${movie.id}</td>
            <td><a href="movie.html?id=${movie.id}">${movie.movie_title}</a></td>
            <td>${movie.name}</td>
            <td>${movie.hit_count}</td>
            <td>${movie.created_at}</td>
        </tr> `
    })
    document.getElementById("movies").innerHTML = html.join('')
});
</script>